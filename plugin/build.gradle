apply plugin: 'maven'
apply plugin: 'maven-publish'

dependencies {
  compile gradleApi()

  testCompile gradleTestKit()
  testCompile project(':test-common')
}

publishing {
  publications {
    maven(MavenPublication) {
      groupId rootProject.group
      artifactId 'java9c'
      version rootProject.version

      artifact jar
    }
  }
}

project.tasks.publishToMavenLocal.dependsOn project.tasks.classes
project.tasks.publishToMavenLocal.dependsOn project.tasks.compileKotlin
project.tasks.jar.dependsOn project.tasks.compileKotlin
project.tasks.publishToMavenLocal.inputs.dir('src')
